# User Journey & Product Understanding

## How Life OS Is Supposed to Work

Life OS is a recovery-first personal productivity system built on a simple principle: **events are the source of truth**. Everything in the UI is derived from events logged by the user or generated by the system. The UI never mutates reality directly—users log events, and the kernel derives state from those events.

---

## Intended User Journey

### 1. Boot / Onboarding

When a user first opens the app, they see a boot sequence. After authentication (sign-in or sign-up), they land on the Today dashboard. There's no explicit onboarding flow in the current UI, which means users are expected to discover the system by exploring.

### 2. Today (Daily Dashboard)

The Today screen is the hub of the application. It's where users start and end their day. The screen shows:

- **System Status Row**: Four badges (SYS.LOAD, FLUX, CPU, PWR) that indicate the user's current capacity and state. These are derived from historical events and kernel calculations.
- **Today Events**: A summary of habits logged and expenses added so far today.
- **Quick Log**: Inputs to log a habit (done/missed) or add an expense (amount + category).
- **Daily Intent**: The current day's plan if one exists.
- **AI Suggestions**: Recommendations from the kernel based on observed patterns (e.g., plan reset, gentle return, micro-recovery).
- **Journal Prompt**: An AI-generated reflection prompt when appropriate.
- **Execution Queue**: The task queue with quick-add for new tasks.

**User action**: Log morning habits, review system state, add any expenses, and optionally engage with AI suggestions.

### 3. Planner (Daily Planning)

The Planner is where users explicitly set their daily focus. It's a deliberate, structured ritual:

- **State Matrix**: Shows the kernel's derived state (MODE, CAPACITY, LOAD, MOMENTUM, HABITS, FINANCE, PLAN_QUALITY) with color-coded badges.
- **Reasons**: Brief explanations for why the system is in each state.
- **Event Summary**: Counts of habits done/missed and expenses logged.
- **Plan Editor**: Input up to three focus items with time estimates.
- **Current Plan**: Displays the active plan with actions to start a session, adjust, reset, or shrink.
- **Next Step Session**: A focused mode that shows the immediate next action with options to make it smaller, skip, or start.

**User action**: Set or review the day's focus. The kernel nudges toward smaller, achievable plans when overloaded.

### 4. Tasks (Execution Queue)

The Tasks screen manages the backlog of actionable items:

- **Create Task**: Add a new task with title and estimate.
- **Active Queue**: Tasks ready to work on.
- **Complete Task**: Mark a task as done (logs an event).
- **Paused Tasks**: Tasks that were paused (shown with toggle).
- **AI Next Step**: Generate the next logical step for any task using AI.

**User action**: Work through tasks, complete them, or use AI to break large tasks into smaller steps.

### 5. Time Reality (Calendar & Time Blocking)

Time Reality tracks what the day actually allows:

- **Day Selector**: Navigate across days with a week strip.
- **Calendar Blocks**: Visual blocks for busy, focus, rest, and personal time.
- **Capacity Metrics**: FREE_TIME, EFFECTIVE_FREE, BUSY_COUNTS, FOCUS_BLOCKS, CAPACITY.
- **Block Management**: Add, edit, duplicate (to today or tomorrow), or remove blocks.

**User action**: Block out busy time, protect focus time, and verify that plans align with reality.

### 6. Journal (Reflection Logging)

The Journal is for unstructured reflection:

- **Entry List**: All journal entries grouped by day.
- **Filters**: Filter by mood (low/neutral/ok/good), window (7d/30d/all), or search text.
- **Saved Views**: Custom filter combinations saved for quick access.
- **Entry Actions**: View or delete entries.

**User action**: Write reflections when it feels helpful, not as a daily obligation.

### 7. Weekly Review (Retrospective)

The Weekly Review is a structured retrospective:

- **Weekly Stats**: Counts of recovery days, balanced days, tiny wins, and plan resets.
- **AI Narrative**: An AI-generated summary of the week.
- **Weekly Plan**: Apply daily plans for the week (individually or all at once).
- **Pattern Insights**: AI-derived observations about behavioral patterns.
- **Drift Signals**: Alerts when the user's patterns deviate from their stated goals.

**User action**: Review the week, accept AI insights, and plan the upcoming week.

---

## Feature Gaps: What's Missing

### Habit Management (Partial/Stubbed)

**Current UI**:
- Quick log on Today screen: input habit ID + DONE/MISSED buttons
- Event summary shows counts of habits done/missed

**Missing**:
- No habit list or configuration screen
- No habit setup (define what habits exist)
- No habit analytics or streak tracking
- No habit reminder or scheduling
- No habit categories or grouping

**Impact**: Users must remember habit IDs or look them up elsewhere. There's no way to see a habit history or manage habits within the app.

### Expense Tracking (Partial/Stubbed)

**Current UI**:
- Quick log on Today screen: amount + category + ADD button
- Event summary shows count of expenses added

**Missing**:
- No expense list or transaction history
- No expense categories management
- No expense analytics or spending insights
- No budget setting or tracking
- No export or sync with financial accounts

**Impact**: Expenses are logged as isolated events with no context or history. Users can't review spending patterns.

### Other Notable Gaps

- **Onboarding Flow**: No guided setup; users discover by exploring.
- **Settings**: No screen for app preferences, notifications, or account management.
- **Data Export**: No way to export journal, tasks, or events.
- **Search**: No global search across events, tasks, or journal.

---

## Minimal Product Narrative

### Morning Ritual (5–10 minutes)

1. Open Today. Check system status badges (how's my capacity today?).
2. Log any morning habits (hydration, meditation, etc.).
3. Quick-add any expected expenses for the day.
4. Optionally review AI suggestions (e.g., "You seem tired—consider a rest day").
5. Either set a new plan in Planner or adjust an existing one.

### Midday Check-in (2–5 minutes)

1. Open Time Reality. Verify that busy blocks match reality.
2. Add or edit calendar blocks as needed.
3. Optionally log additional habits or expenses.
4. Check Tasks. Complete a task or generate a next step.
5. Review suggestions if any appear.

### End-of-Day (10–15 minutes)

1. Complete any remaining tasks or pause them.
2. Log final habits and expenses.
3. Write a journal entry if it feels helpful (AI prompt may guide this).
4. Optionally engage with the Planner for tomorrow.
5. Weekly: perform Weekly Review on Sundays or Mondays.

---

## Priority UX Fixes (No New Modules Needed)

### 1. Empty States Should Explain What to Do

Many screens show "NO_DATA" but don't explain why or what the user should do. Fix: Add brief, actionable text in empty states.

**Examples**:
- Planner empty: "Set your first focus item. Start with one small thing."
- Tasks empty: "Add a task when something comes up. Keep it small."
- Journal empty: "Write when it feels helpful. There's no daily requirement."

**Implementation**: Update skeleton/empty state components with explanatory text.

### 2. Tooltips or Inline Help for System Terms

Terms like "SYS.LOAD", "FLUX", "CPU", "PWR", and "MODE" are opaque to new users. Fix: Add tap-to-reveal tooltips or inline hints.

**Implementation**: Add a `InfoTooltip` component that shows a brief explanation on press.

### 3. Quick Access to Habit/Expense History

Users can't see past habits or expenses. Fix: Make the "Today Events" summary expandable to show today's history.

**Implementation**: Add a toggle on Today to expand/collapse today's event log.

### 4. Guided First Run (Optional)

On first boot, show a 3-step modal:
1. "Life OS is a recovery-first system. Events are truth."
2. "Log habits and expenses to build your reality."
3. "Set a small daily plan. The kernel adapts to you."

**Implementation**: Add a `FirstRunGate` component that shows onboarding modals once.

---

## Summary

Life OS is a kernel-driven daily planner with minimal habit and expense logging. The intended flow is:

1. **Morning**: Check status, log habits/expenses, set plan.
2. **Midday**: Manage reality (calendar), work tasks.
3. **Evening**: Reflect (journal), plan tomorrow.

The product is functional but undiscoverable. Priority fixes should focus on **clarity**: explain empty states, define system terms, and make history accessible. Habit and expense modules are gaps, but not blockers if the current quick-log UX is improved.
